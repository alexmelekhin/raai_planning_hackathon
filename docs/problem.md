# Задание на семинар

## Общее описание задачи

TODO

## Входные данные

На вход алгоритму планирования поступают следующие сообщения:

- [nav_msgs/OccupancyGrid](http://docs.ros.org/en/noetic/api/nav_msgs/html/msg/OccupancyGrid.html) - сообщение с картой занятости. Публикуется в топик `/occupancy/accumulated`. В поле `data` записывается значение _занятости_ ячейки от 0 до 100. Принято следующее соглашение: <br>
    __0-49__: Ячейка свободна <br>
    __50__: Неизвестная ячейка <br>
    __51-100__: Ячейка-препятствие

- [nav_msgs/Odometry](http://docs.ros.org/en/noetic/api/nav_msgs/html/msg/Odometry.html) - сообщение с позицией и ориентацией робота. Публикуется в топик `/odometry`.

## Выходные данные

Разработанный ROS-узел должен уметь выдавать следующие сообщения:

- [thunder_msgs/ThunderCommand](./../msgs/thunder_msgs/msg/ThunderControl.msg) - сообщение с командой управление башней-опрыскивателем. Публикуется в топик `/thunder/control_cmd`. Более подробное описание [ниже](#управление-башней-опрыскивателем-thunder).

- TODO

- TODO

### Управление башней-опрыскивателем Thunder

Для управления башней-опрыскивателем необходимо посылать сообщения типа [thunder_msgs/ThunderControl](./msgs/thunder_msgs/msg/ThunderControl.msg) в топик `/thunder/control_cmd`. 

Управление в автоматическом режиме происходит при заполнении полей `can_id` и `control_mode`. 

Протокол управления в автоматическом режиме:

| Поле         | Тип    | Примечание |
|-|-|-|
| can_id       | uint32 | Значение для управления в автоматическом режиме: `0x210`                                                                                         |
| control_mode | uint8  | `бит 0`: 1 - вентиляторы включены, 0 - выключены<br>`бит 1`: 1 - подача воды включена, 0 - выключена<br>`бит 2`: 1 - вращение башни включено, 0 -выключено |

Пример заполнения сообщения для включения вентиляторов, подачи воды и вращения башни:

```cpp
#include "thunder_msgs/ThunderControl.h"

...
thunder_msgs::ThunderControl msg;
msg.can_id = 0x210;
msg.control_mode = 1 * 4 + 1 * 2 + 1 * 1;
...

```